FROM node:20-alpine

WORKDIR /app

# Install all dependencies (including dev dependencies)
COPY package*.json ./
RUN npm ci

# Copy tsconfig for TypeScript compilation
COPY tsconfig.json ./

# Install nodemon globally for better process management (optional, already in devDependencies)
# The entrypoint script will handle the dev server

# Default command (will be overridden in docker-compose)
CMD ["npm", "run", "dev"]

